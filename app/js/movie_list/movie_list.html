<!-- header-->
<header class="page-header">
    <h1>Ma vidéothèque <small>{{vm.movies.length}} films</small>
    </h1>
</header>

<!-- barre d'actions -->
<section class="well form-inline">
    <input class="span5" type="text" ng-model="vm.search" placeholder="Rechercher">
    <section class="pull-right">
        <button class="btn btn-success" ng-click="vm.toogleView()"><i ng-class="vm.tableViewIcon"></i></button>
        <button class="btn btn-info" ng-click="vm.tri = 'releaseYear'; vm.reverse = !vm.reverse">Trier par année</button>
        <button class="btn btn-info" ng-click="vm.tri = 'title'; vm.reverse = !vm.reverse">Trier par titre</button>
    </section>
</section>


<!-- liste des films -->
<div ng-switch on="vm.tableView" >
    <ul class="thumbnails" ng-switch-when="false">
        <li ng-repeat="movie in vm.movies | orderBy:vm.tri:vm.reverse | filter : vm.search " class="span12">
            <img ng-src="{{movie.poster | poster}}" class="span2">
            <div class="caption">
                <h3>{{movie.title | uppercase}}
                    <button class="btn btn-danger" ng-click="vm.deleteMovie($index)"><i class="icon-trash icon-white"></i></button>
                    <a class="btn btn-info" href="#/movies/edit/{{movie.id}}"><i class="icon-edit icon-white"></i></a>
                </h3>
                <editable label="Année de sortie" text="movie.releaseYear"></editable>
                <editable label="Réalisateurs" text="movie.directors"></editable>
                <editable label="Acteurs" text="movie.actors"></editable>
                <p><b>Synopsis : </b>{{movie.synopsis}}</p>
                <p><b>Note : </b>{{movie.rate | stars}}</p>
            </div>
        </li>
    </ul>
    <table class="table table-striped" ng-switch-default>
        <thead>
        <tr>
            <th>#</th>
            <th>Titre</th>
            <th>Réalisateur</th>
            <th>Année de sortie</th>
            <th>Note</th>
        </tr>
        </thead>
        <tbody>
        <tr ng-repeat="movie in vm.movies | orderBy:vm.tri:vm.reverse | filter : vm.search ">
            <td>{{$index + 1}}</td>
            <td>{{movie.title | uppercase}}</td>
            <td>{{movie.directors}}</td>
            <td>{{movie.releaseYear}}</td>
            <td>{{movie.rate | stars}}</td>
        </tr>
        </tbody>
    </table>
</div>