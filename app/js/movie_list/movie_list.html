<!-- header-->
<header class="page-header">
    <h1>
        Ma vidéothèque <small>{{movies.length}} films</small>
    </h1>
</header>

<!-- barre d'actions -->
<section class="well form-inline">
    <input class="span5" type="text" [(ngModel)]="search" placeholder="Rechercher">
    <section class="pull-right">
        <button class="btn btn-success" (click)="toogleView()"><i [ngClass]="tableViewIcon"></i></button>
        <button class="btn btn-info" (click)="tri = 'releaseYear'; reverse = !reverse">Trier par année</button>
        <button class="btn btn-info" (click)="tri = 'title'; reverse = !reverse">Trier par titre</button>
    </section>
</section>


<!-- liste des films -->
<div [ngSwitch]="tableView">


    <template [ngSwitchWhen]="false">
        <ul class="thumbnails">
            <li *ngFor="#movie of movies | orderBy:tri:reverse | movieFilter:search  ;#i=index" class="span12">
                <img [src]="movie.poster | poster" class="span2">

                <div class="caption">
                    <h3>{{movie.title | uppercase}}
                        <button class="btn btn-danger" (click)="deleteMovie(i)"><i class="icon-trash icon-white"></i>
                        </button>
                        <a class="btn btn-info" [routerLink]="['/EditMovie',{id:movie.id}]"><i
                                class="icon-edit icon-white"></i></a>
                    </h3>
                    <p><b>Année de sortie : </b>{{movie.releaseYear}}</p>

                    <p><b>Réalisateurs : </b>{{movie.directors}}</p>

                    <p><b>Acteurs : </b>{{movie.actors}}</p>

                    <p><b>Synopsis : </b>{{movie.synopsis}}</p>

                    <p><b>Note : </b>{{movie.rate | stars }}</p>
                </div>
            </li>
        </ul>
    </template>
    <template [ngSwitchWhen]="true">
        <table class="table table-striped">
            <thead>
            <tr>
                <th>#</th>
                <th>Titre</th>
                <th>Réalisateur</th>
                <th>Année de sortie</th>
                <th>Note</th>
            </tr>
            </thead>
            <tbody>
            <tr *ngFor="#movie of movies  | orderBy:tri:reverse | movieFilter: search ;#i=index" grunt aria-setsize="">
                <td>{{i + 1}}</td>
                <td>{{movie.title | uppercase}}</td>
                <td>{{movie.directors}}</td>
                <td>{{movie.releaseYear}}</td>
                <td>{{movie.rate }}</td>
            </tr>
            </tbody>
        </table>
    </template>

</div>